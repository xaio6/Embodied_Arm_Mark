#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
UCP 协议常量定义
"""

# ============================================================================
# UCP 帧格式常量
# ============================================================================

UCP_VERSION = 0x01
UCP_TYPE_REQUEST = 0x01
UCP_TYPE_RESPONSE = 0x81

# ============================================================================
# TLV 标签定义
# ============================================================================

class TlvTags:
    """TLV 标签常量"""
    # 请求字段
    MOTOR_ID = 0x01
    DRIVER = 0x02
    OPCODE = 0x03
    TIMEOUT_MS = 0x04
    ARGS = 0x10
    
    # 响应字段
    STATUS = 0x80
    ERR_CODE = 0x81
    DATA = 0x82
    DIAG = 0x83


# ============================================================================
# 驱动板类型定义
# ============================================================================

class DriverType:
    """驱动板类型常量"""
    ZDT = 0x01  # 张大头闭环步进驱动板
    # 未来可以添加其他厂商
    # XYZ = 0x02
    # ABC = 0x03


# ============================================================================
# UCP 状态码
# ============================================================================

class UcpStatus:
    """UCP 响应状态码"""
    OK = 0                  # 成功
    BAD_REQUEST = 1         # 请求参数错误
    NOT_SUPPORTED = 2       # 固件不支持该操作
    TIMEOUT = 3             # CAN 超时
    CAN_ERROR = 4           # CAN 错误或电机返回错误
    INTERNAL_ERROR = 5      # 固件内部错误


# ============================================================================
# 常用错误码
# ============================================================================

class ErrorCodes:
    """常见错误码"""
    COMMAND_ERROR = 0x00EE          # 电机不支持该命令
    CAN_TIMEOUT = 0x4034            # CAN 超时
    INVALID_MOTOR_ID = 0x4030       # 无效的电机ID
    INVALID_ARGS = 0x4031           # 无效的参数

